{% extends 'bas.html' %}
{% load staticfiles %}
{% load i18n %}

{% block head %}
  <link href="{% static 'css/articles.css' %}" rel="stylesheet">
{% endblock head %}

{% block title %} {% trans 'Articles' %} {% endblock %}

{% block main %}
<div class="container">
    <div class="row">
          <div class="page-header">
            {% if user.profile.role == 'mentor' %}
              <a href="{% url 'write' %}" class="btn btn-primary pull-right">
                <span class="glyphicon glyphicon-pencil"></span> {% trans 'Write Article' %}
              </a>
              <a href="{% url 'drafts' %}" class="btn btn-default pull-right" style="margin-right: .8em">{% trans 'Drafts' %}</a>
            {% endif %}
            <h1>{% trans "Articles" %}</h1>
          </div>

          <div class="col-md-8 col-sm-8">
          <section id="content">
            {% for article in articles %}
              {% include 'articles/partial_article.html' with article=article %}
            {% empty %}
              <h4 class="no-data">{% trans 'There is no published article yet' %}. {% if user.profile.role == 'mentor' %}<a href="{% url 'write' %}">{% trans 'Be the first one to publish' %}!</a>{% endif %}</h4>
            {% endfor %}
            {% include 'paginator.html' with paginator=articles %}
          </section>
          </div>

          <section id="sidebar" class="sidebar">
            <aside id="categories">
              <h4>{% trans 'Popular Tags' %}</h4>
              {% for tag, count in popular_tags %}
                <a href="{% url 'tag' tag %}"><span class="label label-default">{{ count }} {{ tag }}</span></a>
              {% endfor %}
            </aside>
          </section>
    </div>
</div>
{% endblock main %}
    